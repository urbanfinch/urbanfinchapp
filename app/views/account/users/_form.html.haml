= render :partial => 'shared/error', :locals => {:object => user}
= form_for user, :url => url do |f|
  %div{:id => 'user', :class => 'content_div'}
    %h2 User
    %hr
    %div.hidden
      = f.hidden_field :account_id
    %div
      = f.label :first_name, 'First Name'
      = f.text_field :first_name
    %div
      = f.label :last_name, 'Last Name'
      = f.text_field :last_name
    %div
      = f.label :username
      = f.text_field :username
    %div
      = f.label :email
      = f.email_field :email, :pattern => '[^@]+@[^@]+\.[a-zA-Z]{2,6}'
    %div
      = f.label :avatar, 'Avatar'
      = f.file_field :avatar
    %div
      %label
      = f.text_field :avatar_url, :placeholder => 'http://example.com/path/to/avatar.png'
    %div.help
      %p Avatar will be automatically resized
    %div
      = f.label :administrator
      = f.check_box :administrator, :disabled => !current_user.administrator
    %hr
  %div{:id => 'password', :class => 'content_div'}
    %h2 Password
    %hr
    %div
      = f.label :password, 'Password'
      = f.password_field :password
    %div
      = f.label :password_confirmation, 'Password Confirmation'
      = f.password_field :password_confirmation
    %hr